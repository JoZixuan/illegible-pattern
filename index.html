<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Illegible Website</title>
    <script src="https://cdn.jsdelivr.net/npm/html2canvas-add-mix-blend-mode@1.4.1/dist/html2canvas.min.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.min.js"></script> -->
    <!-- <script src="sketch.js"></script> -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <div class="button-container">
       
        
            <!--  ç¬¬1ä¸ªæŒ‰é’®ï¼šAbout page pop-up -->
         <button id="about" class="styled-button pinkback"></button>  

            <!--  ç¬¬2ä¸ªæŒ‰é’®ï¼šGlyphs Chart -->
         <button id="chart" class="styled-button greenback"></button>  
         
            <!--  ç¬¬4ä¸ªæŒ‰é’®ï¼šChange Shape font to Authentic Sans -->
         <button id="meaning" class="styled-button inkback"></button>  

            <!--  ç¬¬3ä¸ªæŒ‰é’®ï¼šChange multiply color to solid color -->
         <button id="color-mode" class="styled-button darkblueback"></button>  


            <!--  ç¬¬5ä¸ªæŒ‰é’®ï¼šSVG Download button-->
         <button id="save-svg-btn" class="styled-button skyblueback"></button>   
        
            <!--  ç¬¬6ä¸ªæŒ‰é’®ï¼šPNG Download button-->
         <button id="save-png-btn" class="styled-button yellowback"></button> 

          
         <!-- REM Size Slider -->
        <div class="slider-group">
            <label for="rem-slider"></label>
            <input type="range" id="rem-slider" min="0.5" max="13" step="0.1" value="1">
        </div>

        <!-- H1 Size Slider -->
        <div class="slider-group">
            <label for="h1-slider"></label>
            <input type="range" id="h1-slider" min="10" max="1000" step="1" value="16">
        </div>

        <!-- H2 Size Slider -->
        <div class="slider-group">
            <label for="h2-slider"></label>
            <input type="range" id="h2-slider" min="10" max="800" step="1" value="32">
        </div>

        <!-- Line-height Slider for Paragraphs -->
        <div class="slider-group">
        <label for="line-height-slider"></label>
        <input type="range" id="line-height-slider" min="1" max="3" step="0.01" value="2.5">
        </div>

        <!-- Reset Button -->
        <button class="reset-button"></button>  <!--  Reset  -->
    </div>


 <!-- !!!!!!!!!!!!!!!!!!!!!!!!!!! Content starts here !!!!!!!!!!!!!!!!!!!!!!!!!!!-->

      <!-- A BIG CONTAINER -->

    <div id="blended-content" class="container">

         <!-- section 1 -->

       <div> <p class="yellowtextsetting editable" contenteditable="true">
WWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWaWaWaWaWaWaWaWaWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWaWaWaWaWaWaW</p>
        <p> kkkkkijijiijiaiiijjjjjiiijijjijiijkkkkkkkkakkkkkkkkaYZ56656kjkk561234563157461a234563157432156413245412663215641327461a234563145k4126jijiijkkakiiiikaijijjjjijj  </p> 

        <p> WWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW     </p> </div>

        
 <!-- section 2 -->
        
        <div><p class="h2 editable" contenteditable="true"> 
            QRSRQSRSSSRQSQRSQRSQQRASQRASRQRASRQRASASRQRQRQSRSQRQSRQSRQRSRQSRSSSRQSQRSQRSQQRSQRSQQRASQRASRQRASRQRQRQSRSQRQSRQSRQRQRASQRASRQRASRQRQRQSRSQRQSRQSRQRSRQSRSSSRQSQRQRASQRASRQRASRQRQRQSRSQRQSRQSRSRQSRSSSRQSQRSQRSQQRASQRASRQRSRSQRQSRQSRQRSRQSRSSSRQSQRSQQRSRQSRSSSRQSQRSQRSQQRASQRASRQRASRQRASASRQRQRQSRSQRQSRQSRQRSRQSRSSSRQSQRSQRSQQRSQRSQQRASQRASRQRASRQRQRQSRSQRQSRQSRQRQRASQRASRQRASRQRQRQSRSQRQSRQSRRASQRASRQRASRQRASASRQRQRQSRSQRQSRQSRQRSRQSRSSSRQSQRSQRSQQRASQRASRQRASRQRQRQSRSQRQSRQSRQRSRQSRSSSRQSQRSQRSQQRASQRASRQRASRQRQRQSRSQRQSRQSRQSSSRQSQRSQRSQQRASQRASRQRASRQRASRSRRRAAAASRSRRARARARAARRRSSSSSAAAQRQSRSQRQSRQSRQRSRQSRSSSRQSQRSQRSQRSQQRASQRASRQRASRQRQRQSRSQRQSRQSRQRSRQSRSSSRQSQRSQRSQQRASQRASRQRASRQRASASRQRQRQSRSQRQSRQSRQRSRQSRSSSRQSQRSQRRSQQRASQRASRQRASRQRASRSRRRAAAASRSRRARARARAARRRSSSSSAAAQRQSRSQRQSRQSRQRSRQSRSSSRQSQRSQRSQRSQQRASQRASRQRASRQRQRQSRSQRQSRQSRQRSRQSRSSSRQSQRSQRSQQRASQRASRQRASRQRASASRQRQRQSRSQRQSRQSRQRSRQSRSSSRQSQRSQRSQQRASQRASRQRASRQRQRQSRSQRQSRQSRQRSRQSRSSSRQSQRSQRSQQRASQRASRQRASRQRQRQSRSQRQSRQSRQRSRQSRSSSRQSQRSQRSQQRASQRASRQRASRQRASQRASRQRASRQRASASRQRQRQSRSQRQSRQSRQRSRQSRSSSRQSQRSQRSQQRASQRASRQRASRQRQRQSRSQRQSRQSRQR   </p>
            
            <p class= "pinktextsetting editable" contenteditable="true"> FLFLFLFLFLFLFLFLFLFLFLFLFLFLFLFLFLFFLFLFLFLFLFLFLFFLFLFLFLFLFLFLFFLFLFLFLFLFLFLrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyysrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrsrFLFLFLFLFLFLFLFLFLFLFLFLFLFLFLFLFLFFLFLFLFLFLFLFLFFLFLFLFLFLFLFLFFLFLFLFLF</p>

        </p> <p class= "green greentextsetting relative editable" contenteditable="true"> AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA</p>
        
    <p class="absolute skyblue editable" contenteditable="true"> 
        AIAIAIAIAIAIAIAIAIAAIIAIIAIAIAIAIAIAIAIAIAIAIAIAIAIAIAIAIAIAIAIAIAIAIAIIAIAIAIAIAIAIAIAIAIAIAIAIAIAIAAIAIAIAIAIAAIAIAIAIAIAIAIAIAAIAIAIAIAIAIAAIAIAIAIAIAIAIAIAIAIAIAIAIAIAIAIAIAIAAIAIAIAAIAIAIAIAIAIAI
    </p>
    </div>


  <!-- section 3 -->
    <div><p class="red redtextsetting editable" contenteditable="true">
            kWWYXGZWDWWYkZWWZWXGDrXGDWWXCkjGDqYRZo
        </p> </div>
       
        
 <!-- section 4 -->
        <div><p class="float ink editable" contenteditable="true">aaaaaaaxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</p></div>

        
    </div>   <!-- CONTAINER END -->

    <script>
        const remSlider = document.getElementById("rem-slider");
        const h1Slider = document.getElementById("h1-slider");
        const h2Slider = document.getElementById("h2-slider");
        const resetButton = document.querySelector(".reset-button");

        // Random color generator
        function getRandomColor() {
            return `rgb(${Math.floor(Math.random() * 255)}, ${Math.floor(Math.random() * 255)}, ${Math.floor(Math.random() * 255)})`;
        }

        // Update REM size and change color dynamically
        remSlider.addEventListener("input", function () {
            document.documentElement.style.setProperty("--rem-size", this.value + "rem");
            document.documentElement.style.setProperty("--rem-color", getRandomColor());
        });

        // Update H1 size and change color dynamically
        h1Slider.addEventListener("input", function () {
            document.documentElement.style.setProperty("--h1-size", this.value + "px");
            document.documentElement.style.setProperty("--h1-color", getRandomColor());
        });

        // Update H2 size and change color dynamically
        h2Slider.addEventListener("input", function () {
            document.documentElement.style.setProperty("--h2-size", this.value + "px");
            document.documentElement.style.setProperty("--h2-color", getRandomColor());
        });

        // Reset Button Functionality
        resetButton.addEventListener("click", function () {
            remSlider.value = "1";
            h1Slider.value = "16";
            h2Slider.value = "32";

            document.documentElement.style.setProperty("--rem-size", "1rem");
            document.documentElement.style.setProperty("--h1-size", "16px");
            document.documentElement.style.setProperty("--h2-size", "32px");

            document.documentElement.style.setProperty("--rem-color", "blue");
            document.documentElement.style.setProperty("--h1-color", "red");
            document.documentElement.style.setProperty("--h2-color", "green");
        });

           // Function to update the slider background
           function updateSliderBackground(slider) {
            let value = slider.value; // Get slider value
            let min = slider.min;
            let max = slider.max;
            let percentage = ((value - min) / (max - min)) * 100;

            // ðŸŽ¨ Left side = Blue (#34d3ff), Right side = Yellow (#fff04b)
            slider.style.background = `linear-gradient(to right, #34d3ff 0%, #34d3ff ${percentage}%, #fff04b ${percentage}%, #fff04b 100%)`;
        }

        // Get all sliders
        const sliders = document.querySelectorAll("input[type='range']");

        // Add event listener to each slider
        sliders.forEach(slider => {
            slider.addEventListener("input", function () {
                updateSliderBackground(this);
            });

            // Initialize the background on page load
            updateSliderBackground(slider);
        });

        const lineHeightSlider = document.getElementById("line-height-slider");

        // Update line-height dynamically
        lineHeightSlider.addEventListener("input", function () {
            document.documentElement.style.setProperty("--line-height", this.value);
            document.querySelectorAll("p").forEach(p => {  
                p.style.lineHeight = this.value;
            });
        });

        
// SVG FUNCTION!!
        document.getElementById("save-svg-btn").addEventListener("click", saveAsSVG);

function saveAsSVG() {
    let targetElement = document.querySelector("#blended-content"); // Update this ID to match your content
    let width = targetElement.offsetWidth;
    let height = targetElement.offsetHeight;

    // Create a canvas
    let canvas = document.createElement("canvas");
    canvas.width = width;
    canvas.height = height;
    let ctx = canvas.getContext("2d");

    // Use html2canvas to capture blended content
    html2canvas(targetElement, {
        backgroundColor: null,
        useCORS: true
    }).then(canvas => {
        let imgData = canvas.toDataURL("image/png");

        // Wrap image in SVG
        let svgContent = `
        <svg xmlns="http://www.w3.org/2000/svg" width="${width}" height="${height}">
            <image href="${imgData}" width="${width}" height="${height}" />
        </svg>`;

        let blob = new Blob([svgContent], { type: "image/svg+xml;charset=utf-8" });
        let url = URL.createObjectURL(blob);

        let a = document.createElement("a");
        a.href = url;
        a.download = "blended-output.svg";
        a.click();
        URL.revokeObjectURL(url);
    });
}

/////////  SAVE PNG function /////////
document.getElementById("save-png-btn").addEventListener("click", saveAsPNG);

function saveAsPNG() {
    let targetElement = document.querySelector(".container"); // Adjust selector if needed

    html2canvas(targetElement, {
        backgroundColor: null,
        useCORS: true
    }).then(canvas => {
        let a = document.createElement("a");
        a.href = canvas.toDataURL("image/png");
        a.download = "blended-output.png";
        a.click();
    }).catch(error => {
        console.error("Error capturing content:", error);
    });
}

    </script>

    <!-- /////////////////////////////////////////////////////////
     ----------------- [  ABOUT PAGE _ Pop-Up Window  ] -----------------
     //////////////////////////////////////////////////////////////////////////-->

    <script>
        document.getElementById("about").addEventListener("click", function () {
            let popup = document.getElementById("about-popup");

            if (!popup) {
                popup = document.createElement("div");
                popup.id = "about-popup";
                popup.style.position = "fixed";
                popup.style.width = "500px";
                popup.style.maxHeight = "400px"; // Set max height
                popup.style.overflow = "auto"; // Enable scroll bar when content is too long
                popup.style.height = "auto";
                popup.style.background = "#ff489a";
                popup.style.color = "black";
                popup.style.fontFamily = "authentic-sans-90"
                popup.style.lineHeight = "120%"
                popup.style.padding = "20px";
                popup.style.textAlign = "left";
                popup.style.top = "50%";
                popup.style.left = "50%";
                popup.style.outline = "5px solid #fff04b";
                popup.style.transform = "translate(-50%, -50%)";
                popup.style.zIndex = "1000";
                popup.innerHTML = `
      <span id="close-popup" style="
          position: absolute;
          top: 10px;
          right: 15px;
          cursor: pointer;
          font-size: 20px;
          font-weight: 100;">

          âœ•
          
          </span>
          
      <p style="margin-bottom: 20px;">ABOUT</p>
       <p style="margin-bottom: 20px;"><span style="font-family: authentic-sans-130;">Illegible Text</span> is web pattern generator using illegible typography comprised of geometric elements.</p>
             <p style="text-indent: 40px; margin-bottom: 20px; "> Try typing in some letters to design your own pattern!</p>
                <p style=" margin-bottom: 20px; "> [this paragraph is placeholder text]Illegible Website is an experimental typography project exploring patterns generated by text using a custom variable font.Illegible Website is an experimental typography project exploring patterns generated by text using a custom variable font.Illegible Website is an experimental typography project exploring patterns generated by ts generated by text using a custom variable font tktkt ktktktk tktktktk tktktk tktktktk tktktktktktktk tktkt tktktktkt tktktkt tktktk tktk.</p>
                   <p> This project is designed by Jo Zixuan in 2025 @RISD GD MFA</p>
  `;
                document.body.appendChild(popup);

                document.getElementById("close-popup").addEventListener("click", function () {
                    popup.remove();
                });
            } else {
                popup.remove();
            }
        });

//  //////////////////////////////////////-------------------- [  GLYPHS CHART _ Pop-Up Window  ] ---------------- //////////////////////////////////////////////////////////////////////////-->
document.getElementById("chart").addEventListener("click", function () {
            let popup = document.getElementById("about-popup");

            if (!popup) {
                popup = document.createElement("div");
                popup.id = "about-popup";
                popup.style.position = "fixed";
                popup.style.width = "600px";
                popup.style.maxHeight = "390px"; // Set max height
                popup.style.overflow = "auto"; // Enable scroll bar when content is too long
                popup.style.height = "auto";
                popup.style.background = "#3fbd48";
                popup.style.color = "black";
                popup.style.fontFamily = "authentic-sans-90"
                popup.style.fontSize = "13px"
                popup.style.letterSpacing = "111%"
                popup.style.color = "white"
                popup.style.lineHeight = "120%"
                popup.style.padding = "20px";
                popup.style.paddingRight = "30px";
               
                popup.style.textAlign = "left";
                popup.style.outline = "5px solid #fff04b";
                popup.style.bottom = "0%";
                popup.style.left = "0%";
                // popup.style.top = "50%";
                // popup.style.left = "50%";
                // popup.style.transform = "translate(-50%, -50%)";
                popup.style.zIndex = "1000";
                popup.innerHTML = `
      <span id="close-popup" style="
          position: absolute;
          top: 10px;
          right: 15px;
          cursor: pointer;
          font-size: 20px;
          font-weight: 100;">

          âœ•
          
          </span>
          
      <p style="margin-bottom: 5px;mix-blend-mode:normal;">Rectangular mode</p>
      <img src="rectangular-chart.svg" alt='Chart explaining what the abstract shapes' correspoding keyboard input style=" width:600px;mix-blend-mode: normal;">
      <p style="margin-top: 10px;margin-bottom: 5px;mix-blend-mode:normal">Circular mode</p>
      <img src="circular-chart.svg" alt='Chart explaining what the abstract shapes' correspoding keyboard input style=" width:600px;mix-blend-mode: normal;">
  `;
                document.body.appendChild(popup);

                document.getElementById("close-popup").addEventListener("click", function () {
                    popup.remove();
                });
            } else {
                popup.remove();
            }
        });


//  //////////////////////////////////////
// -------------------- [  Toggle between Shape and Meaning  ] ---------------- //////////////////////////////////////////////////////////////////////////-->
    

document.getElementById("meaning").addEventListener("click", function () {
    let paragraphs = document.querySelectorAll("p");
    paragraphs.forEach(p => {
        let currentFont = window.getComputedStyle(p).fontFamily;
        if (currentFont.includes("shape-font")) {
            p.style.fontFamily = "authentic-sans-130";
        } else {
            p.style.fontFamily = "shape-font";
        }
    });
});



//  ///////////////////////////////////
// -------------------- [  Toggle between Multiply and Solid  ] ---------------- //////////////////////////////////////////////////////////////////////////-->
    
document.getElementById("color-mode").addEventListener("click", function () {
    let paragraphs = document.querySelectorAll("p");
    paragraphs.forEach(p => {
        let currentBlendMode = window.getComputedStyle(p).mixBlendMode;
        if (currentBlendMode === "multiply") {
            p.style.mixBlendMode = "normal";
        } else {
            p.style.mixBlendMode = "multiply";
        }
    });
});

    </script>
    <script>
        ////////////////////////
        //   --------     Function to play sound     --------  //////////////

        function playSound(soundFile) {
            let audio = new Audio(soundFile);
            audio.play();
        }

        // Assign different sounds to buttons
        document.getElementById("save-svg-btn").addEventListener("click", function () {
            playSound("audio/button1.wav");
        });

        document.getElementById("save-png-btn").addEventListener("click", function () {
            playSound("audio/button2.wav");
        });

        document.getElementById("chart").addEventListener("click", function () {
            playSound("audio/button3.wav");
        });

        document.getElementById("about").addEventListener("click", function () {
            playSound("audio/button4.wav");
        });

        document.getElementById("meaning").addEventListener("click", function () {
            playSound("audio/button5.wav");
        });

        document.getElementById("color-mode").addEventListener("click", function () {
            playSound("audio/button6.wav");
        });

        document.querySelector(".reset-button").addEventListener("click", function () {
            playSound("audio/button8.wav");
        });

        // Play sound effect when slider thumb is released
        document.querySelectorAll("input[type='range']").forEach(slider => {
            slider.addEventListener("change", function () {
                playSound("audio/click3.wav");
            });
        });
    </script>

    <!-- SHAP changes when clicked -->
 <script>
//   <!-- toggle between shap 1 & 4 -->
document.addEventListener("DOMContentLoaded", function () {
    document.querySelectorAll("p").forEach(p => {
        p.addEventListener("click", function () {
            this.classList.toggle("shap-4"); // Toggle the class
        });
    });
});

// // }); 
</script>
</body>
</html>